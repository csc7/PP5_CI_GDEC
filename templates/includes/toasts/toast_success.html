<!--Bootstrap v4.6 Toasts, https://getbootstrap.com/docs/4.6/components/toasts/; copied on March 16th, 2022, at 15:00, later modified -->
<div class="toast custom-toast" role="alert" aria-live="assertive" aria-atomic="true" data-delay="10000">
  <div class="arrow-up arrow-success"></div>
  <div class="w-100 toast-capper bg-success"></div>
  <div class="toast-header bg-white text-dark">
      {% if product.image_name %}
        <img class="w-50" src="{{ product.image_name.url }}" alt="{{ product.name }}">
        {% else %}
        <img class="w-50" src="{{ MEDIA_URL }}noimage.png" alt="{{ product.name }}">
      {% endif %}
      <strong class="w-50 text-right">Success!</strong>
      <small></small>
      <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
  </div>
  <div class="toast-body">
    <div class="row">
      <div class="col">
          {{ message }}
          <hr class="mt-1 mb-3">
      </div>
  </div>
  {% if grand_total and not on_profile_page %}
      <p class="bg-white text-dark py-1">Your Bag ({{ product_count }}) (showing last 4 items in bag)</p>
      <div class="bag-notification-wrapper">
          <!-- Show last 4 items to avoid toast getting higher than body when bag contains too many items -->
          {% for item in bag_items|slice:"-5:-1" reversed %}
              <div class="row">
                    <div class="col-3 my-1">
                        {% if item.product.image_name %}
                        <img class="w-100" src="{{ item.product.image_name.url }}" alt="{{ item.product.name }}">
                        {% else %}
                        <img class="w-100" src="{{ MEDIA_URL }}noimage.png" alt="{{ item.product.name }}">
                        {% endif %}
                    </div>
                    <div class="col-9">                       
                        <p class="my-0"><strong>{{ item.product.name }}</strong></p>
                        <p class="my-0 small">Resolution: {% if item.product.resolution %}{{ item.resolution|upper }}{% else %}N/A{% endif %}</p>
                        <p class="my-0 small text-muted">Qty: {{ item.quantity }}</p>
                    </div>
              </div>
          {% endfor %}
      </div>
      <div class="row">
          <div class="col">
              <strong><p class="mt-3 mb-1 text-dark">
                  Total{% if free_delivery_delta > 0 %} (Exc. delivery){% endif %}: 
                  <span class="float-right">${{ total|floatformat:2 }}</span>
              </p></strong>
              {% if free_delivery_delta > 0 %}
                  <p class="mb-0 p-2 bg-warning shadow-sm text-dark text-center">
                      Spend <strong>${{ free_delivery_delta }}</strong> more to get free next day delivery!
                  </p>
              {% endif %}
              <a href="{% url 'view_bag' %}" class="btn btn-dark btn-block rounded-0">
                  <span class="text-uppercase">Go To Secure Checkout</span>
                  <span class="icon">
                      <i class="fas fa-lock"></i>
                  </span>
              </a>
          </div>
      </div>
  {% endif %}
  </div>
</div>
